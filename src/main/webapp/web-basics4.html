<!DOCTYPE html>
<!-- 
    This page discusses how a POST request is processed.
    
    by Jim Lombardo, WCTC Web and Software Developer Instructor
    Version 1.00
-->
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JEE7 Tutorials :: Home</title>
    <link rel="stylesheet" href="resources/css/foundation.min.css" />
    
    <!-- Custom styles just for this page -->
    <style type="text/css">
        .jhighlight {
            border-style: none;
            background-color: green;
            color: white;
        }
        .junhighlight {
            border-style: none;
            background-color: transparent;
            color: black;
        }
        .head1 {
            color: #1695ce;
            font-weight:500;
        }
        .head2 {
            color: #04af18;
            font-weight:500;
        }
        .imgPopup {
            background-color: #b6edff;
            z-index: 7;
            overflow: visible;
            position: absolute;
            padding: 10px;
            
            -webkit-box-shadow: 10px 10px 5px #888888;
            box-shadow: 10px 10px 5px #888888;
        }
        .redEm {
            color: red;
            font-weight:bold;
        }

    </style>
    
    <!-- Supports older browsers and detects mobile devices -->
    <script src="resources/js/modernizr.js"></script>
  </head>
    <body>
       <div class="fixed">
        <nav class="top-bar" data-topbar>
            <ul class="title-area">
              <!-- Title Area -->
              <li class="name">
                <h1>
                  <a href="index.html">
                    JEE 7 Tutorials @WCTC
                  </a>
                </h1>
              </li>
              <li class="toggle-topbar menu-icon"><a href="#"><span>menu</span></a></li>
            </ul>
         
            <section class="top-bar-section">
              <!-- Right Nav Section -->
              <ul class="right">
                <li class="divider"></li>
                <li class="has-dropdown">
                  <a href="#">Learning Trails</a>
                  <ul class="dropdown">
                    <li><a href="index.html">Home</a></li>
                    <li class="active"><a href="web-basics.html">Web Basics</a></li>
                    <li class="divider"></li>
                    <li><a href="http://www.wctc.edu">About Us</a></li>
                  </ul>
                </li>
              </ul>
            </section>
          </nav>

          <!-- End Top Bar -->
          
          <!-- Sub Nav -->
          <div class="row">
            <div class="small-10 small-centered columns">
                  <dl class="sub-nav"> 
                      <dt>Prev Lesson:</dt> 
                      <dd class="active"><a href="web-basics2.html">Dynamic GET Responses</a></dd> 
                      <dt>Next Lesson:</dt> 
                      <dd class="active"><a href="#">Unknown</a></dd> 
                  </dl>
            </div>
        </div>
       </div>
        <!-- End Sub Nav -->
        
        <div class="row">
            <div class="small-10 small-centered columns">
              <h2 class="head1">How the Server Responds to POST Requests</h2>
            </div>
        </div>
        
        <div class="row">
            <div class="small-10 small-centered columns">
              <h3 class="head2">Given this HTTP POST request:</h3>
            </div>
        </div>
        <div class="row">
            <div class="small-10 small-centered columns">
                <h4>
                    http://
                    <span class="junhighlight" id="server">localhost:8080</span>/
                    <span class="junhighlight" id="folder">Jee7Tutorials</span>/
                    <span class="junhighlight" id="page" onclick="location.href='dynamicPage.jsp?name=Butkus'">dynamicPage.jsp</span>
                    <span class="jhighlight" id="qs">?name=Butkus</span>
                </h4>
            </div>
        </div>
        
        <div class="row">
            <div class="small-10 small-centered columns">
                  <div class="panel">
                      <p>Just as in the previous demo the client (browser) sends an HTTP GET request to the 
                      <a href="#" onmouseover="toggleHighlight('#qs','#server')" 
                      onmouseout="toggleHighlight('#server','#qs')">server</a> for 
                      a <a href="#" onmouseover="toggleHighlight('#qs','#page')" 
                      onmouseout="toggleHighlight('#page','#qs')">file</a>. The server then looks for the file in 
                      the folder <a href="#" onmouseover="toggleHighlight('#qs','#folder')" 
                      onmouseout="toggleHighlight('#folder','#qs')">Jee7Tutorials</a>. 
                      But this time something very different happens when the server finds the 
                      file. Because it ends with a &quot;.jsp&quot; extension the server looks for a 
                      matching processing engine -- in this case a JavaServer Page engine (JSP). 
                      Finding that it parses (looks through) all the source code in the file, looking 
                      for <a href="#" onmouseover="togglePopup('#javaMixinsTip','on')">Java code mixed in with the HTML</a>. 
                      When it finds this code it immediately 
                      executes it and adds any resulting text to the HTML, effectively modifying the original 
                      page. Then and only then does the server send the response back to the client. The 
                      response is different now, click the <a href="#" onmouseover="toggleHighlight('#qs','#page')" 
                      onmouseout="toggleHighlight('#qs','#page')">file name</a> above to see the response.</p>
                </div>
                <div id="javaMixinsTip" onclick="togglePopup('#javaMixinsTip','off')" style="top:-160px; left:60px; width:520px;" class="hide imgPopup">
                  <p>The code highlighted in green is java code mixed in with the HTML. This is <strong style="color:red;">the code 
                          that gets executed immediately on the server</strong> after it responds to the request for the page.</p>
                  <p><img src="resources/images/dynamicPageClip.gif" alt="dynamic page code"></p>
                  <p>It's job is to take the QueryString parameter value, which gets sent along with the 
                      request (name = "Butkus") and use that value in the HTML response, effectively modifying 
                      the HTML code in process.
                  </p>
              </div>
            </div>
        </div>
        <div class="row">
            <div class="small-10 small-centered columns">
                <h3 class="head2">Try it</h3>
                <p>Click the <a href="#" onmouseover="toggleHighlight('#qs','#page')" 
                   onmouseout="toggleHighlight('#qs','#page')" 
                   onclick="location.href='dynamicPage.jsp?name=Butkus'">file name</a> 
                    above to see the response.</p>
            </div>
        </div>
        
        
        
        <!-- Footer -->
             
          <footer class="row">
            <div class="small-12 columns">
              <hr />
              <div class="row">
                <div class="small-6 columns">
                  <p style="font-size: small;">&copy; Copyright 2014 by Waukesha County Technical College. All rights reserved.</p>
                </div>
                <div class="small-6 columns">
                  <ul class="inline-list right">
                    <li style="font-size: small;"><a href="index.html">Home</a></li>
                    <li style="font-size: small;">|</li>
                    <li style="font-size: small;"><a href="web-basics.html">Web Basics</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </footer>
         
          <!-- End Footer -->        
        
        <!-- Javascript libraries needed by fondation. Always include at bottom of body. -->
        <script src="resources/js/jquery.min.js"></script>
        <script src="resources/js/foundation.min.js"></script>
        <script src="resources/js/foundation/foundation.joyride.js"></script>
        <script src="resources/js/vendor/jquery.cookie.js"></script>
        
        <!-- My custom app script -->
        <script>
            $(document).foundation();
            function toggleHighlight(on_id, off_id) {
                $("#page").removeClass('jhighlight').addClass('junhighlight');
                $("#qs").removeClass('junhighlight').addClass('jhighlight');
                
                $(on_id).removeClass('jhighlight').addClass('junhighlight');
                $(off_id).removeClass('junhighlight').addClass('jhighlight');
            }
            function togglePopup(id, state) {
                if(state == "on") {
                    $(id).removeClass('hide');
                } else {
                    $(id).addClass('hide');
                }
                
                if(id.indexOf("javaMixins") != -1) {
                    setTimeout(function () {
                        $(id).addClass('hide');
                    }, 4000);
                }

            }
        </script>

    </body>
</html>
